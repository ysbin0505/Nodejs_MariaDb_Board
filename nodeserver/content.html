<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>게시물 내용</title>
    <style>
     
    </style>
</head>
<body>
  <h1>게시물 내용</h1>
  <div class="post-content" id="post-content">
    <p><strong>번호:</strong> <span id="post-num"></span></p>
    <p><strong>제목:</strong> <span id="post-title"></span></p>
    <p><strong>내용:</strong> <span id="post-content-text"></span></p>
    <p><strong>작성자:</strong> <span id="post-writer"></span></p>
    <p><strong>날짜:</strong> <span id="post-date"></span></p>
  </div>

  <div style="display: flex; justify-content: center;">
    <button type="button" class="navyBtn" onclick="location.href = '/index.html'">돌아가기</button>
    <button type="button" class="navyBtn" onclick="deletePost()">삭제</button>
  </div>

  <script>
    const postId = new URLSearchParams(window.location.search).get('id');

    fetch(`/content/${postId}`)
      .then(response => response.json())
      .then(data => {
        const post = data.post;
        document.getElementById('post-num').textContent = post.num;
        document.getElementById('post-title').textContent = post.title;
        document.getElementById('post-content-text').textContent = post.content;
        document.getElementById('post-writer').textContent = post.writer;
        document.getElementById('post-date').textContent = new Date(post.date).toLocaleDateString();
      })
      .catch(error => {
        console.error('게시물 가져오기 오류:', error);
        // 오류 처리 로직 추가
      });

    function deletePost() {
      // 삭제 로직 구현
      fetch(`/delete/${postId}`, { method: 'DELETE' })
        .then(response => response.json())
        .then(data => {
          // 삭제 성공 시 처리 로직
          alert('게시물이 삭제되었습니다.');
          window.location.href = '/index.html'; // 삭제 후 목록 페이지로 이동
        })
        .catch(error => {
          console.error('게시물 삭제 오류:', error);
          // 오류 처리 로직 추가
        });
    }
  </script>
</body>
</html>
